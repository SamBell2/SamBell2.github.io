<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="IE=edge" http-equiv="X-UA-Compatible"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<meta content="My portfolio to display all of my programming and electronics projects." name="description"/>
<meta content="Sam Bell" name="author"/>
<link href="https://sambell2.github.io/electronics/cpu_alu/" rel="canonical"/>
<link href="../../img/favicon.ico" rel="shortcut icon"/>
<title>ALU - Sam's Portfolio</title>
<link href="https://use.fontawesome.com/releases/v5.12.0/css/all.css" rel="stylesheet"/>
<link href="https://use.fontawesome.com/releases/v5.12.0/css/v4-shims.css" rel="stylesheet"/>
<link href="//cdn.jsdelivr.net/npm/hack-font@3.3.0/build/web/hack.min.css" rel="stylesheet"/>
<link href="//rsms.me/inter/inter.css" rel="stylesheet" type="text/css"/>
<link href="//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,700italic,400,300,600,700&amp;subset=latin-ext,latin" rel="stylesheet" type="text/css"/>
<link href="../../css/bootstrap-custom.min.css" rel="stylesheet"/>
<link href="../../css/base.min.css" rel="stylesheet"/>
<link href="../../css/cinder.min.css" rel="stylesheet"/>
<link href="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.18.0/build/styles/github.min.css" rel="stylesheet"/>
<link href="../../extra/custom.css" rel="stylesheet"/>
<!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!--[if lt IE 9]>
            <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
            <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
        <![endif]-->
<link href="../../pdf/document.pdf" rel="alternate" title="PDF" type="application/pdf"/></head>
<body>
<div class="navbar navbar-default navbar-fixed-top" role="navigation">
<div class="container">
<!-- Collapsed navigation -->
<div class="navbar-header">
<!-- Expander button -->
<button class="navbar-toggle" data-target=".navbar-collapse" data-toggle="collapse" type="button">
<span class="sr-only">Toggle navigation</span>
<span class="icon-bar"></span>
<span class="icon-bar"></span>
<span class="icon-bar"></span>
</button>
<!-- Main title -->
<a class="navbar-brand" href="../..">Sam's Portfolio</a>
</div>
<!-- Expanded navigation -->
<div class="navbar-collapse collapse">
<!-- Main navigation -->
<ul class="nav navbar-nav">
<li>
<a href="../..">Home</a>
</li>
<li>
<a href="../../gallery/">Gallery</a>
</li>
<li class="dropdown">
<a class="dropdown-toggle" data-toggle="dropdown" href="#">Programming <b class="caret"></b></a>
<ul class="dropdown-menu">
<li>
<a href="../../programming/chess_bot/">Chess Bot</a>
</li>
<li>
<a href="../../programming/qr_code_generator/">QR Code Generator</a>
</li>
<li>
<a href="../../programming/scripted_journeys/">Scripted Journeys</a>
</li>
<li>
<a href="../../programming/sudoku_solver/">Sudoku Solver</a>
</li>
<li>
<a href="../../programming/morse_code/">Morse Code Translator</a>
</li>
</ul>
</li>
<li class="dropdown active">
<a class="dropdown-toggle" data-toggle="dropdown" href="#">Electronics <b class="caret"></b></a>
<ul class="dropdown-menu">
<li class="dropdown-submenu">
<a href="" tabindex="-1">CPU</a>
<ul class="dropdown-menu">
<li>
<a href="../cpu/">Overview</a>
</li>
<li>
<a href="../cpu_clock/">Clock Module</a>
</li>
<li class="active">
<a href="./">ALU</a>
</li>
</ul>
</li>
<li>
<a href="../safe/">Safe</a>
</li>
</ul>
</li>
<li class="dropdown">
<a class="dropdown-toggle" data-toggle="dropdown" href="#">Digital Making <b class="caret"></b></a>
<ul class="dropdown-menu">
<li>
<a href="../../digital_making/laptop/">Laptop</a>
</li>
<li>
<a href="../../digital_making/light_fantastic/">Light Fantastic</a>
</li>
<li>
<a href="../../digital_making/magic_mirror/">Magic Mirror</a>
</li>
<li>
<a href="../../digital_making/wildlife_camera/">Wildlife Camera</a>
</li>
</ul>
</li>
<li class="dropdown">
<a class="dropdown-toggle" data-toggle="dropdown" href="#">Robotics <b class="caret"></b></a>
<ul class="dropdown-menu">
<li>
<a href="../../robotics/WER2025/">WER 2025</a>
</li>
<li>
<a href="../../robotics/picar/">Picar S</a>
</li>
<li>
<a href="../../robotics/camjam/">CamJam Robot</a>
</li>
</ul>
</li>
</ul>
<ul class="nav navbar-nav navbar-right">
</ul>
</div>
</div>
</div>
<div class="container">
<div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
<ul class="nav bs-sidenav">
<li class="first-level active"><a href="#alu">ALU</a></li>
<li class="second-level"><a href="#overview">Overview</a></li>
<li class="second-level"><a href="#the-leds">The LEDs</a></li>
<li class="second-level"><a href="#adding-and-subtracting">Adding and Subtracting</a></li>
<li class="second-level"><a href="#nor-operation">NOR Operation</a></li>
<li class="second-level"><a href="#right-shift">Right Shift</a></li>
<li class="second-level"><a href="#mode-selection">Mode Selection</a></li>
<li class="second-level"><a href="#challenges">Challenges</a></li>
</ul>
</div></div>
<div class="col-md-9" role="main">
<h1 id="alu">ALU</h1>
<p><em>2025 - Aged 14</em>
<img alt="An image of my ALU" src="images/cpu_alu.png"/>
<em>An image of my ALU</em></p>
<h2 id="overview">Overview</h2>
<p>Doing maths is one of the main purposes of a CPU, and the ALU (Arithmetic and Logic Unit) is the bit that actually does it. As with the rest of my CPU, this is less powerful than most modern ones. It has 4 modes, add, subtract, NOR, and right shift (divide by two, ignore any remainder). I am making it on 2 breadboards: the top one to show the inputs, output, and setting, as well as switching between modes, and the bottom one to actually do the maths. The top breadboard has 26 LEDs on it, and will have 2 8-bit 2:1 multiplexers. The bottom one has 2 quad-XOR gates, 2 4-bit adders and 2 quad-NOR gates. The right shift is simply connecting the inputs to the output in a different place.</p>
<h2 id="the-leds">The LEDs</h2>
<p>This was a simple part. All I had to do was solder down a whole load of green and blue LEDs, some resistors and some wires. Despite this, I still came across a few issues when prototyping. The current-limiting resistors I used were 470R resistors, which pulled too much current and so the chips to actually use the data sometimes didn't have enough current to know if it was a 1 or a 0. This meant the built-in pull-up resistors took over and the actual data was ignored. I fixed this by using 10kR resistors instead.</p>
<h2 id="adding-and-subtracting">Adding and Subtracting</h2>
<p>I used 4 chips for this, 2 adders and 2 XOR chips. Adding 2 numbers is simple: just feed them into the adders (I do know how the adders actually work, but making my own would be too expensive). Subtracting is harder, as you have to negate the second number and then add them together. This is essentially just doing 5 + -3 instead of 5 - 3. In binary, negative numbers are expressed in two's complement, which you convert into by inverting all of the bits and adding 1. I accomplished this by using a single subtract signal (this is actually the least significant bit of the setting as the setting for add is 00, so it won't subtract, subtract is 01 so it will subtract, and the other two don't matter as they won't use the adders anyway). The subtract signal is XORed with all of the data bits for the second number, as any number XOR 0 is itself, and any number XOR 1 is itself inverted. The subtract signal then also goes to the carry in of the first adder, so it will add one. This setup means that the second number will always go through the XOR gates, simplifying the wiring even if it does make the logic more complex.</p>
<h2 id="nor-operation">NOR Operation</h2>
<p>This was a simple bit, as I just connected the inputs of the ALU to the inputs of the NOR gates. I came across no problems, and it was straightforward.</p>
<h2 id="right-shift">Right Shift</h2>
<p>I haven't done this yet, as it will be very simple. I don't have the multiplexers yet so I have to wait to connect the inputs to one.</p>
<h2 id="mode-selection">Mode Selection</h2>
<p>I haven't actually made this yet, but I have the logic all worked out. It needs 2 8-bit 2:1 multiplexers. The first one chooses between the NOR and right shift operation, and the control bit is the least significant bit of the setting. If it is 0 (in NOR or ADD), then the multiplexers will choose the NOR output and the adders will add. If it is 1 (in RSH or SUB), they will choose the right shift output and the adders will subtract. We now have 2 8-bit numbers, one from the NOR/RSH and one from the adders. The most significant bit of the setting decides this one. If it is 0 (in ADD or SUB), the multiplexers will choose the adders. If it is 1 (in NOR or RSH), they will choose the output from the first multiplexers. The output of these multiplexers will go straight to the output LEDs.</p>
<h2 id="challenges">Challenges</h2>
<p>I didn't come across many challenges (yet) when making this. The main one was the weak resistors pulling all of the current so the chips registered a high input, but this was easily fixed. I still have the multiplexers to add though, so I may come across more problems.</p></div>
</div>
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<script src="../../js/bootstrap-3.0.3.min.js"></script>
<script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.18.0/build/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
<script>var base_url = "../.."</script>
<script src="../../js/base.js"></script>
<div aria-hidden="true" aria-labelledby="keyboardModalLabel" class="modal" id="mkdocs_keyboard_modal" role="dialog" tabindex="-1">
<div class="modal-dialog">
<div class="modal-content">
<div class="modal-header">
<h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
<button class="close" data-dismiss="modal" type="button"><span aria-hidden="true">Ã—</span><span class="sr-only">Close</span></button>
</div>
<div class="modal-body">
<table class="table">
<thead>
<tr>
<th style="width: 20%;">Keys</th>
<th>Action</th>
</tr>
</thead>
<tbody>
<tr>
<td class="help shortcut"><kbd>?</kbd></td>
<td>Open this help</td>
</tr>
<tr>
<td class="next shortcut"><kbd>n</kbd></td>
<td>Next page</td>
</tr>
<tr>
<td class="prev shortcut"><kbd>p</kbd></td>
<td>Previous page</td>
</tr>
<tr>
<td class="search shortcut"><kbd>s</kbd></td>
<td>Search</td>
</tr>
</tbody>
</table>
</div>
<div class="modal-footer">
</div>
</div>
</div>
</div>
</body>
</html>
